From d15dea650e66e2476ee295dfae1b497af0467c0b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Nils=20Petter=20Ska=CC=8Alerud?=
 <nils.petter.skalerud@qt.io>
Date: Tue, 14 Oct 2025 11:58:26 +0200
Subject: [PATCH 397/553] iOS: Add missing header guards
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Some iOS specific header files were missing header guards, causing
unity builds to break.

This patch adds them.

Change-Id: Ibcc08647dc56720b9c34e8edd0bec05bf00c146f
Reviewed-by: Tor Arne Vestb√∏ <tor.arne.vestbo@qt.io>
(cherry picked from commit b2eb27bf5f614b660d4e2e00aad19c120890ae43)
Reviewed-by: Qt Cherry-pick Bot <cherrypick_bot@qt-project.org>
---
 .../nsphotolibrarysupport/qiosimagepickercontroller.h        | 5 +++++
 src/plugins/platforms/ios/qiosdocumentpickercontroller.h     | 5 +++++
 src/plugins/platforms/ios/qiostextresponder.h                | 5 +++++
 src/plugins/platforms/ios/quiview.h                          | 5 +++++
 4 files changed, 20 insertions(+)

diff --git a/src/plugins/platforms/ios/optional/nsphotolibrarysupport/qiosimagepickercontroller.h b/src/plugins/platforms/ios/optional/nsphotolibrarysupport/qiosimagepickercontroller.h
index bd5c0ae350a..d8a1ee0759a 100644
--- a/src/plugins/platforms/ios/optional/nsphotolibrarysupport/qiosimagepickercontroller.h
+++ b/src/plugins/platforms/ios/optional/nsphotolibrarysupport/qiosimagepickercontroller.h
@@ -1,6 +1,9 @@
 // Copyright (C) 2017 The Qt Company Ltd.
 // SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only
 
+#ifndef QIOSIMAGEPICKERCONTROLLER_H
+#define QIOSIMAGEPICKERCONTROLLER_H
+
 #import <UIKit/UIKit.h>
 
 #include "../../qiosfiledialog.h"
@@ -8,3 +11,5 @@
 @interface QIOSImagePickerController : UIImagePickerController <UIImagePickerControllerDelegate, UINavigationControllerDelegate>
 - (instancetype)initWithQIOSFileDialog:(QIOSFileDialog *)fileDialog;
 @end
+
+#endif // QIOSIMAGEPICKERCONTROLLER_H
diff --git a/src/plugins/platforms/ios/qiosdocumentpickercontroller.h b/src/plugins/platforms/ios/qiosdocumentpickercontroller.h
index f0b74725397..c5493bc8f24 100644
--- a/src/plugins/platforms/ios/qiosdocumentpickercontroller.h
+++ b/src/plugins/platforms/ios/qiosdocumentpickercontroller.h
@@ -1,6 +1,9 @@
 // Copyright (C) 2020 Harald Meyer.
 // SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only
 
+#ifndef QIOSDOCUMENTPICKERCONTROLLER_H
+#define QIOSDOCUMENTPICKERCONTROLLER_H
+
 #import <UIKit/UIKit.h>
 #import <UniformTypeIdentifiers/UniformTypeIdentifiers.h>
 
@@ -11,3 +14,5 @@
                                                                           UIAdaptivePresentationControllerDelegate>
 - (instancetype)initWithQIOSFileDialog:(QIOSFileDialog *)fileDialog;
 @end
+
+#endif // QIOSDOCUMENTPICKERCONTROLLER_H
diff --git a/src/plugins/platforms/ios/qiostextresponder.h b/src/plugins/platforms/ios/qiostextresponder.h
index 491dc0b6323..c3c8d083e65 100644
--- a/src/plugins/platforms/ios/qiostextresponder.h
+++ b/src/plugins/platforms/ios/qiostextresponder.h
@@ -1,6 +1,9 @@
 // Copyright (C) 2016 The Qt Company Ltd.
 // SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only
 
+#ifndef QIOSTEXTRESPONDER_H
+#define QIOSTEXTRESPONDER_H
+
 #import <UIKit/UIKit.h>
 
 #include <QtCore/qstring.h>
@@ -49,3 +52,5 @@ QT_END_NAMESPACE
 @property(nonatomic, assign) id<UITextInputDelegate> inputDelegate;
 
 @end
+
+#endif // QIOSTEXTRESPONDER_H
diff --git a/src/plugins/platforms/ios/quiview.h b/src/plugins/platforms/ios/quiview.h
index 7899ec6e0e4..baedfacec74 100644
--- a/src/plugins/platforms/ios/quiview.h
+++ b/src/plugins/platforms/ios/quiview.h
@@ -1,6 +1,9 @@
 // Copyright (C) 2016 The Qt Company Ltd.
 // SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only
 
+#ifndef QUIVIEW_H
+#define QUIVIEW_H
+
 #import <UIKit/UIKit.h>
 
 #include <qhash.h>
@@ -38,3 +41,5 @@ QT_END_NAMESPACE
 @interface QUIMetalView : QUIView
 @end
 #endif
+
+#endif // QUIVIEW_H
-- 
2.51.2

