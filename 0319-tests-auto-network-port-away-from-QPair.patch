From a9fb8ec8e13088a9661881d56b59b5cfeca91ab5 Mon Sep 17 00:00:00 2001
From: Ahmad Samir <a.samirh78@gmail.com>
Date: Wed, 8 Oct 2025 01:02:45 +0300
Subject: [PATCH 319/553] tests/auto/network: port away from QPair
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Pick-to: 6.8 6.5
Task-number: QTBUG-115841
Change-Id: I1f14d273efe400b77bca4f7f26df8220bc572709
Reviewed-by: MÃ¥rten Nordheim <marten.nordheim@qt.io>
(cherry picked from commit 212d2379187a1effdb2b979f330c8eeafe17d944)
Reviewed-by: Qt Cherry-pick Bot <cherrypick_bot@qt-project.org>
---
 tests/auto/network/access/hsts/tst_qhsts.cpp                    | 1 -
 tests/auto/network/access/qnetworkreply/tst_qnetworkreply.cpp   | 2 +-
 tests/auto/network/access/qrestaccessmanager/httptestserver_p.h | 2 +-
 tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp     | 2 +-
 tests/auto/network/ssl/qdtlscookie/tst_qdtlscookie.cpp          | 2 +-
 5 files changed, 4 insertions(+), 5 deletions(-)

diff --git a/tests/auto/network/access/hsts/tst_qhsts.cpp b/tests/auto/network/access/hsts/tst_qhsts.cpp
index 4e9a5cc53f6..3634a3a2c49 100644
--- a/tests/auto/network/access/hsts/tst_qhsts.cpp
+++ b/tests/auto/network/access/hsts/tst_qhsts.cpp
@@ -6,7 +6,6 @@
 #include <QtCore/qdatetime.h>
 #include <QtCore/qdir.h>
 #include <QtCore/qlist.h>
-#include <QtCore/qpair.h>
 #include <QtCore/qurl.h>
 
 #include <QtNetwork/qhttpheaders.h>
diff --git a/tests/auto/network/access/qnetworkreply/tst_qnetworkreply.cpp b/tests/auto/network/access/qnetworkreply/tst_qnetworkreply.cpp
index 18118c3ec53..09a880952c0 100644
--- a/tests/auto/network/access/qnetworkreply/tst_qnetworkreply.cpp
+++ b/tests/auto/network/access/qnetworkreply/tst_qnetworkreply.cpp
@@ -908,7 +908,7 @@ public:
 class MyMemoryCache: public QAbstractNetworkCache
 {
 public:
-    typedef QPair<QNetworkCacheMetaData, QByteArray> CachedContent;
+    using CachedContent = std::pair<QNetworkCacheMetaData, QByteArray>;
     typedef QHash<QByteArray, CachedContent> CacheData;
     CacheData cache;
 
diff --git a/tests/auto/network/access/qrestaccessmanager/httptestserver_p.h b/tests/auto/network/access/qrestaccessmanager/httptestserver_p.h
index 0a94b2c8a6c..50d1cfb902f 100644
--- a/tests/auto/network/access/qrestaccessmanager/httptestserver_p.h
+++ b/tests/auto/network/access/qrestaccessmanager/httptestserver_p.h
@@ -20,7 +20,7 @@ struct HttpData {
     QByteArray body;
     QByteArray method;
     quint16 port = 0;
-    QPair<quint8, quint8> version;
+    std::pair<quint8, quint8> version;
     QHttpHeaders headers;
 };
 
diff --git a/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp b/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp
index 18d1c04a856..0d2b7bfde64 100644
--- a/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp
+++ b/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp
@@ -545,7 +545,7 @@ void tst_QHostAddress::parseSubnet()
     QFETCH(QHostAddress, prefix);
     QFETCH(int, prefixLength);
 
-    QPair<QHostAddress, int> result = QHostAddress::parseSubnet(subnet);
+    std::pair<QHostAddress, int> result = QHostAddress::parseSubnet(subnet);
     QCOMPARE(result.first, prefix);
     QCOMPARE(result.second, prefixLength);
 }
diff --git a/tests/auto/network/ssl/qdtlscookie/tst_qdtlscookie.cpp b/tests/auto/network/ssl/qdtlscookie/tst_qdtlscookie.cpp
index e99d7645ab7..63f765082b0 100644
--- a/tests/auto/network/ssl/qdtlscookie/tst_qdtlscookie.cpp
+++ b/tests/auto/network/ssl/qdtlscookie/tst_qdtlscookie.cpp
@@ -96,7 +96,7 @@ private:
     const int noiseTimeoutMS = 5;
 
     using SocketPtr = QSharedPointer<QUdpSocket>;
-    using ValidClient = QPair<SocketPtr, HandshakePtr>;
+    using ValidClient = std::pair<SocketPtr, HandshakePtr>;
     unsigned clientsToWait = 0;
     unsigned clientsToAdd = 0;
     std::vector<ValidClient> dtlsClients;
-- 
2.51.2

